{% extends 'base.html' %} 
{% block title %} Musician {% endblock %} 

{% block content %}
<h2>Album List</h2>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Muscian Name</th>
        <th scope="col">Email</th>
        <th scope="col">Instrument Type</th>
        <th scope="col">Album Name</th>
        <th scope="col">Release Date</th>
        <th scope="col">Album Rating</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for musician in musicians %} 
            {% for album in musician.album_set.all %}

                    <tr>
                        <td>{{ album.id }}</td>
                        <td><a href="{% url 'musician_detail' musician.id %}">{{ musician.first_name }} {{ musician.last_name }}</a></td>
                        <td>{{ musician.email }}</td>
                        <td>{{ musician.instrument_type }}</td>
                        <td><a href="{% url 'album_detail' album.id %}">{{ album.album_name }}</a></td>
                        <td>{{ album.release_date }}</td>
                        <td>{{ album.rating }}</td>
                        <td>
                            <a href="{% url 'edit_album' album.id %}">Edit</a>
                            <a href="{% url 'delete_musician' musician.id %}">Delete</a>
                        </td> 
                    </tr>

            {% endfor %} 
      {% endfor %}
    </tbody>
  </table> 
</div>
{% endblock %}
